<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>niik</title>
    <link rel="stylesheet" href="styles/index.css">
    <link rel="shortcut icon" type="image/x-icon" href="static/logo_black_on_white.ico">
</head>
<body>
    <header>
        <svg id="minimal-logo" width="889" height="182" viewBox="0 0 889 182" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M842.125 1L776 83.5L792 105.25L843.625 181.375H888.75L819.5 80.625L884.125 1H842.125Z" fill="white"/>
            <path d="M435.125 181V0.625H472.875V181H435.125Z" fill="white"/>
            <path d="M33 1H0L38.375 63.25L120.125 181.375H152.875L114.5 118.25L33 1Z" fill="white"/>
        </svg>
    </header>

    <div id="welcome-div">
        <div id="welcome-content">
            <h1>welcome to niik’s world</h1>
        </div>

        <a id="menu-object">
            <div id="menu-content">
                <h3 id="tip">
                    use ↑ ↓ to navigate, enter to select
                </h3>
                <div id="items">
                    <ul class="menu">
                        <li class="menu-item selected"><a href="pages/about.html">person</a></li>
                        <li class="menu-item"><a href="pages/programming.html">programming</a></li>
                        <li class="menu-item"><a href="pages/music.html">music</a></li>
                        <li class="menu-item"><a href="pages/other.html">other</a></li>
                    </ul>
                </div>
            </div>
        </a>

    </div>

    <footer>
        <p id="theme">theme: dark</p>
        <p id="copyright">© 2024 niik </p>
        <p id="lang">lang: en</p>
    </footer>
</body>
<script src="https://cdn.jsdelivr.net/npm/tsparticles-slim@2.0.6/tsparticles.slim.bundle.min.js"></script>
<script src="scripts/cookieUtils.js"></script>
<script type="text/javascript">
    let options = {
        smooth: true,
        fullScreen: {
            enable: false,
            zIndex: -1,
        },
        interactivity: {
            events: {
                onClick: {
                    enable: true,
                    mode: "push",
                },
                onHover: {
                    enable: true,
                    mode: "grab",
                },
            },
            modes: {
                push: {
                    quantity: 3,
                },
                grab: {
                    distance: 150,
                },
            },
        },
        particles: {
            links: {
                enable: true,
                opacity: 0.3,
                distance: 200,
            },
            move: {
                enable: true,
                speed: {min: 1, max: 3},
            },
            opacity: {
                value: {min: 0.3, max: 0.7},
            },
            size: {
                value: {min: 1, max: 3},
            },
        },
    };

    document.addEventListener('DOMContentLoaded', (event) => {
        const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
        for (let cookieName of ["language", "theme", "chosen"]) {
            if (!checkCookie(cookieName)) {
                setCookie(cookieName, baseCookieValues[cookieName], 3)
            }
        }

        if (isMobile) {
            document.querySelector('#tip').innerHTML = 'tap for navigation';
            document.querySelector('#items').innerHTML = '<h2><a href="pages/about.html">person</a></h2>' +
                '<h2><a href="pages/programming.html">programming</a></h2>' +
                '<h2><a href="pages/music.html">music</a></h2>' +
                '<h2><a href="pages/other.html">other</a></h2>';

            options.particles.move.speed.min = 0.5;
            options.particles.move.speed.max = 1.5;
            options.particles.size.value.min = 0.5;
            options.particles.size.value.max = 1.5;
            options.particles.links.distance = 150;
            options.interactivity.modes.grab.distance = 100;

            tsParticles.load("welcome-div", options);
            return
        }

        tsParticles.load("welcome-div", options);

        let selectedIndex = parseInt(getCookie("chosen"));
        const items = document.querySelectorAll('.menu-item');

        const updateSelection = () => {
            items.forEach((item, index) => {
                item.classList.toggle('selected', index === selectedIndex);
            });
        };

        document.addEventListener('keydown', (event) => {
            if (event.key === 'ArrowDown') {
                event.preventDefault();
                selectedIndex = (selectedIndex + 1) % items.length;
                setCookie("chosen", selectedIndex, 1)
                updateSelection();
            } else if (event.key === 'ArrowUp') {
                event.preventDefault();
                selectedIndex = (selectedIndex - 1 + items.length) % items.length;
                setCookie("chosen", selectedIndex, 1)
                updateSelection();
            } else if (event.key === 'Enter') {
                switch (items[selectedIndex].textContent) {
                    case "person": window.location.replace("./pages/about.html"); break;
                    case "programming": window.location.replace("./pages/programming.html"); break;
                    case "music": window.location.replace("./pages/music.html"); break;
                    case "other": window.location.replace("./pages/other.html"); break;
                }
            }
        });

        updateSelection();
    });
</script>
</html>